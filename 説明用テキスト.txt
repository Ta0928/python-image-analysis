

■今やっていることの報告（簡易版）

　◎講座内容

　　〇pythonを使用した画像判定アプリの開発をしています。
　　　（iphoneで写真を撮り対象が何であるかを判定する。）（犬の写真を撮るとこれは犬ですと表示される。）

　　　・参考にした教材：①Udemyの講座（【画像判定AIアプリ開発・パート1】TensorFlow・Python・Flaskで作る画像判定AIアプリ開発入門　）
　　　　　　　　　　　　②google　

　　　　→対象の画像とやり方を変えて実際にやってみました。
　


◆実際に行ったこと


　◎大項目

　　〇環境構築

　　〇アプリ開発
　　　・画像収集
　　　・画像データの前処理
　　　・モデルの定義

　　〇評価・テスト

　　〇デプロイ
　　　・Webアプリ化
　　　・iPhoneアプリ化


　◎詳細


　　〇環境構築

　　　・pythonの実行環境を使用するため、anacondaというパッケージを私用のPCにインストールしました。
　　　・tensorflowというパッケージを環境にインストールします。（CPU版を使用（GPU版の方が処理が速い（NVIDIAのCUDAが必要）））
　　　・エディターは、atomエディターを使用
　　　　　※pythonのコマンド補完機能が優れているため


　　〇アプリ開発

　　　・判定したい対象の画像データを収集します。（講座内ではflickerというサイトから画像を収集（データのクローリング）。自分はwebから対象の写真を収集）
　　　　（画像判定の正解となる画像を学習する）例えばこの写真はアジ、この写真はサバ等。
　　　　今回はイスズミ、クチブトメジナ、オナガメジナの3種類を判定する。


　　　・画像データの前処理
　
　　　　①不要なデータの削除(手動)
　　　　　　対象とは別のものが映り込んでいる
　　　　　　対象がはみ出ている、小さすぎる
　　　　　　不鮮明なもの
　　　　　　重複したもの
　　　　　　装飾されたもの

　　　　②画像のの加工（自動）スクリプトとコマンドを使用　（コード有り）
　　　　　　画像の対象の向きを統一（必要に応じて）
　　　　　　拡張子の統一
　　　　　　カラーモデルを統一（RGB,RGBA,etc..）
　　　　　　画像を正方形に加工
　　　　　　　※正方形の画像でないと認識しない
　　　　　　画像サイズを統一（100px　×　100px）
　　　　　　　※ネットで見る限り適切なサイズなどは記載されていない。（平均50px~200px）


　    ・モデルの定義　（コード有り）
　　　　　構築したpythonの環境で作成した画像データを指定し、numpyの配列データにすることでプログラムの処理を早くする。（RGB形式で表示（0,0,0）赤、青、緑の要素）
　　　　　データとなる写真を反転、角度の変更を行い増幅
　　　　　指定された写真がどの写真なのか判定するコードを作成。


　　〇評価/テスト　（コード有り）
　　　・Jupiternotebookを利用（構築した環境をWebブラウザ上で利用できるようになる）コマンドプロンプトでも可。
　　　・scikit-learnを用いて作成した画像データからテスト用の画像データをどの位の確率で判定できるかテストする。
　　　・70%以上判定できればok(講座内)（データの精査が重要）（講座では約92%、自作では約〇％）
　　　・実際に一枚の写真を指定し、判定できるか、正答率の％も表示可能


　　〇デプロイ

　　　・Webアプリにする
　　　　　Flask（Web application framework）を使用してアプリを作成する。
　　　　　Djangoは使用しない（ログインを伴うようなソフト作成時使用）
　　　　　Flaskを構築した環境にインストール
　　　　　Webアプリを作成。
　　　　　写真ファイルをアップロードして写真が何なのかを判定（コード有り）
　　　
　　　・iPhoneアプリにする
　　　　kerasで作成したモデルをiOSアプリに組み込む
　　　　（coremltoolsライブラリを利用してiOSに組み込める形式（.mlmodel）に変換）
　　　　モデルの読み込むためXcodeのプロジェクトを追加
　　　　

　　　・andoroidアプリにする　　　



◆用語集


　・サニタイズ処理：危険な文字を削除
　・numpy:配列データを扱うために必要
　・sklearn：データをトレーニング用とテスト用に分けるためのツールを使用するためにimport
　・.py：pythonを扱うファイルの拡張子
　・anaconda：(distribution)
 　           アプリケーションソフトなどを簡単にインストールできるようにまとめてある
　　　　　　　Numpy等の様々なライブラリを同梱しているパッケージ
　　　　　　　※pythonの実行環境をインストールするためにインストール
　・tensorflow：判定したい対象の画像から対象を識別し、データベースと比較して識別を行うことができるライブラリ

　・scikit-learn：pythonの機械学習用のライブラリ
　・os
　・glob：パターン一致でファイル一覧を取得する
　・enumerate
　・APIキー（flickerのサイトから取得）を取得
　・flickr：画像の共有サイト
　・API:他のプログラム（サイト）からデータを取得する仕組み
　・urllib：pythonのコマンド（機能）
　・クローニング：コマンドラインのプログラムからデータを取得すること
　・スクレイピング：取得したwebデータを解析して取得すること
　・Jupiter Notebook：Webブラウザ上でpythonを実行できるようになる
　・keras：WAF　簡易的なソフト　djangoはログインを伴うソフト等用



以上



